 <html>
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>PDF Basic Example</title>
    <link rel="stylesheet" href="">
    <!-- Flipbook StyleSheet -->
    <link href="css/dflip.css" rel="stylesheet" type="text/css">

    <!-- Icons Stylesheet -->
    <link href="css/themify-icons.css" rel="stylesheet" type="text/css">
    <style>
    body, html {
        height:100%;
        width: 100%;
        margin:0;
        /* opacity: 0.2; */
    }
    .back,.home{
        width: 4.3%;
        height: 8.3%;
        /*background: red;*/
        position: absolute;
        top:2%;
        left:4%;
        z-index:999;
    }
    .home{
        top:2%;
        left:10%;
    }
    .home img,.back img{
        width: 80px;
        height: 80px;
    }
    </style>
    </head>
    <body>
    <!-- <div class="back">
        <img src="./images/返回.png" alt="">
    </div>
    <div class="home">
        <img src="./images/返回首页.png" alt="">
    </div> -->

    <div id="flipbookContainer"></div>

    <!-- jQuery 1.9.1 or above -->
    <script src="js/libs/jquery.min.js" type="text/javascript"></script>

    <!-- Flipbook main Js file -->
    <script src="js/dflip.min.js" type="text/javascript"></script>

    <script>




	function UrlSearch()
   {
   var name,value;
   var str=location.href; //取得整个地址栏
   var num=str.indexOf("?")
   str=str.substr(num+1); //取得所有参数   stringvar.substr(start [, length ]

   var arr=str.split("&"); //各个参数放到数组里
   for(var i=0;i < arr.length;i++){
    num=arr[i].indexOf("=");
    if(num>0){
     name=arr[i].substring(0,num);
     value=arr[i].substr(num+1);
     this[name]=value;
     }
    }
}

    var pdfUrl
    var Request=new UrlSearch(); //实例化
    jQuery(document).ready(function () {
	
    window.addEventListener('message', function(messageEvent) {
        pdfUrl = messageEvent.data; 
        // console.log('收到的数据：=====',pdfUrl);
        pdfUrl = pdfUrl.replace(/\\/g, "\\\\")
        var pdf = 'docbook.pdf';
        var pdf = pdfUrl
        // console.log("替换后的文件===",pdfUrl);
	    if(pdf==null){
	        pdf="error.pdf"
	    }
    var options = {height: '100%',backgroundImage: "bac2.png",hideControls: "altPrev,pageNumber,altNext,play,outline,thumbnail,zoomIn,zoomOut,fullScreen,share,download,more,pageMode,startPage,endPage,sound"};

    var flipBook = $("#flipbookContainer").flipBook(pdf, options);

        
    }, false);
    

    });
    // $(".back").click(function () {
    //     interObj.GetRootDirInfo().then(function (info) {
    //         baseInfo = JSON.parse(info);//resource的目录信息
    //         location.href = baseInfo.dir.FullName.replace(baseInfo.dir.MatchName,'entry')+'\\entry.html?dirName=returnFromDir';
    //     });
    // });
    // $(".home").click(function () {
    //     interObj.GetRootDirInfo().then(function (info) {
    //         baseInfo = JSON.parse(info);//resource的目录信息
    //         location.href = baseInfo.dir.FullName.replace(baseInfo.dir.MatchName,'entry')+'\\entry.html?dirName=homePage';
    //     });
    // });
    </script>
    </body>
    </html>
